Проблемы и риски
-------------------
1. Данные по продуктам и тарифам судя по описанию  импортируются в разные локальные реплики двух компонент монолита и сервиса по расчётам с страховыми компаниями.
Т.к. апи для импорта этих данных работает нестабильно данные в репликах могут быть несинхронизированы. Пользователь например может выбрать продукт и тариф, который не существует в сервисе взаиморасчётов.
2. Проблема есть внутри самого ins-product-aggregator, который для получения списка продуктов вызывает 5 внешних систем страховых компаний. Если одна из систем недоступна запрос остаётся висеть в течении таймаута, хотя мог бы быть уже отправлен без излишнего ожидания.


Решение
-------------------
Для решения проблем и устранения рисков предлагается перейти на event driven подход при импорте продуктов и тарифов и core-app и ins-settlement перевести на один источник данных, вместо локальных реплик.
1. Для решения проблем потребуется доработка компонент: 
- core-app для асинхронного получения доступных продуктов и их тарифов. 
- ins-comp-settlement для интеграции с Kafka, а не напрямую с агрегатором
- ins-product-aggregator для асинхронного получения доступных продуктов и их тарифов и публикации их в Kafka
Потребутся установка Kafka.
2. Для паттерна transaction outbox не вижу применения.
Т.к общий принцип работы с продуктами и тарифами такой: Если не удалось импортировать какой-либо продукт с тарифом, то он просто не участвует в процессе, пользователь выбирает из тех, что переданы без ошибок.
Хранилище по продуктам и тарифам является Kafka.